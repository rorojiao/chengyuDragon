# 成语接龙游戏 - 游戏设计文档

## 1. 游戏概述

### 1.1 游戏概念
成语接龙是一款经典的中国文字游戏，玩家需要用前一个成语的最后一个字作为下一个成语的第一个字。本游戏将这一传统玩法与现代AI技术结合，让玩家与本地大语言模型进行对战。

### 1.2 目标玩家
- 对中国传统文化感兴趣的玩家
- 喜欢文字游戏的用户
- 希望通过游戏学习成语的玩家
- 年龄段：12岁以上

### 1.3 核心体验
- 轻松休闲的文字对抗
- 学习和复习成语知识
- 与AI进行智慧博弈
- 单机畅玩，无需联网

## 2. 核心玩法

### 2.1 基本规则
1. **起始条件**：游戏开始时，由系统或玩家随机出一个成语
2. **接龙规则**：下一个成语的第一个字必须与前一个成语的最后一个字相同
3. **玩家回合**：玩家在限时内输入合法的成语进行接龙
4. **AI回合**：AI根据玩家给出的成语进行接龙
5. **胜负判定**：
   - 一方在规定时间内无法给出合法成语则判负
   - 一方重复使用已出现过的成语则判负
   - 玩家可选择主动认输

### 2.2 特殊规则
1. **同音字规则**：可选择是否允许使用同音字（可配置）
2. **提示系统**：玩家可使用提示功能（有限次数）
3. **难度等级**：简单/普通/困难，影响AI的响应速度和成语选择策略
4. **时间限制**：每回合可设置30秒/60秒/无限制

## 3. 游戏模式

### 3.1 主要模式
1. **经典模式**
   - 标准接龙规则
   - 统计双方使用的成语数量
   - 支持无限回合直到一方失败

2. **限时模式**
   - 设置总游戏时长（如5分钟/10分钟）
   - 时间结束时成语数量多者获胜
   - 适合快节奏游戏

3. **挑战模式**
   - 连续挑战多个AI对手
   - 每战胜一个AI，下一个AI难度提升
   - 记录最高连胜纪录

### 3.2 辅助功能
1. **成语词典**：游戏中可查询已出现的成语及其解释
2. **历史记录**：查看整局游戏的接龙历史
3. **收藏功能**：收藏喜欢的成语
4. **学习模式**：游戏结束后可查看所有成语的详细解释

## 4. UI/UX设计

### 4.1 视觉风格
1. **整体风格**：新中式风格，融合传统与现代
2. **配色方案**：
   - 主色调：水墨黑、宣纸白、中国红
   - 辅助色：墨绿、赭石、靛蓝
   - 强调色：朱砂红（用于重要操作和胜利提示）
3. **字体选择**：
   - 成语显示：宋体/楷体
   - UI文字：简洁的无衬线字体
   - 支持字体缩放

### 4.2 界面布局

#### 主菜单界面
- 居中的游戏标题（书法字体）
- 下方三个主要按钮：
  - 开始游戏
  - 设置
  - 成就/统计
- 底部小字：版本信息

#### 游戏界面
```
┌────────────────────────────────────┐
│  成语接龙                    [设置] │
├────────────────────────────────────┤
│                                    │
│        🎮 第 5 回合                │
│                                    │
│  ┌──────────────────────────┐     │
│  │                          │     │
│  │    AI: 车水马龙          │     │
│  │    龙马精神            │  │
│  │                          │     │
│  └──────────────────────────┘     │
│                                    │
│  ┌──────────────────────────┐     │
│  │                          │     │
│  │    [你的回合]            │     │
│  │                          │     │
│  └──────────────────────────┘     │
│                                    │
│  ┌──────────────────────────┐     │
│  │  请输入成语...            │     │
│  └──────────────────────────┘     │
│                                    │
│  [提交] [提示(2)] [认输]          │
│                                    │
│  ⏱ 45秒                           │
└────────────────────────────────────┘
```

#### 设置界面
1. **API配置**
   - LM Studio API地址
   - 模型名称
   - 连接测试按钮
   - API状态指示灯

2. **游戏设置**
   - 难度选择（简单/普通/困难）
   - 时间限制（30秒/60秒/无限制）
   - 是否允许同音字
   - 提示次数（0-5次）

3. **界面设置**
   - 字体大小
   - 主题颜色
   - 音效开关

### 4.3 交互设计

#### 动画效果
1. **成语出现**：淡入+轻微放大
2. **提交成功**：绿色对号动画
3. **提交失败**：抖动+红色提示
4. **AI思考**：省略号跳动动画
5. **胜利/失败**：相应的庆祝/遗憾效果

#### 声音设计
1. **背景音乐**：轻柔的古典音乐（可开关）
2. **音效**：
   - 提交成功：清脆的提示音
   - 提交失败：低沉的错误音
   - AI出招：翻书声
   - 游戏结束：胜利/失败音乐

#### 反馈机制
1. **即时反馈**：输入时实时显示成语状态
2. **错误提示**：清晰的错误原因说明
3. **进度指示**：可视化显示当前回合数
4. **统计面板**：实时显示双方成语数量

## 5. AI设计

### 5.1 AI行为
1. **成语选择策略**：
   - 简单模式：随机选择合法成语
   - 普通模式：选择常用成语
   - 困难模式：选择生僻成语或"死路"成语

2. **响应时间**：
   - 简单模式：2-3秒
   - 普通模式：1-2秒
   - 困难模式：0.5-1秒

3. **人格化**：
   - AI可显示简短的表情或短句
   - 增加游戏趣味性

### 5.2 难度平衡
- 确保AI不会使用过于生僻的成语
- 适当给予玩家机会
- 保持游戏的公平性和娱乐性

## 6. 数据设计

### 6.1 成语数据库
1. **基本字段**：
   - 成语（主键）
   - 拼音
   - 解释
   - 例句
   - 难度等级
   - 使用频率

2. **索引策略**：
   - 按首字索引
   - 按尾字索引
   - 按难度索引

### 6.2 游戏数据
1. **当前游戏状态**
2. **历史记录**
3. **统计数据**
4. **用户设置**

### 6.3 本地存储
- 使用JSON或SQLite存储游戏数据
- 支持导出/导入游戏记录

## 7. 成就系统

### 7.1 成就类型
1. **计数类**：
   - 初出茅庐：完成1局游戏
   - 熟能生巧：完成10局游戏
   - 百战百胜：连胜10局

2. **技巧类**：
   - 文思泉涌：单局使用20个成语
   - 快速反应：5秒内完成接龙
   - 完美无瑕：不使用提示获胜

3. **收集类**：
   - 博学多才：累计使用100个不同成语
   - 字字珠玑：使用包含特定字的成语

### 7.2 奖励机制
- 成就解锁动画
- 成就徽章展示
- 解锁特殊主题或特效

## 8. 扩展功能（未来版本）

### 8.1 多人对战
- 本地双人模式
- 联机对战（需服务器支持）

### 8.2 社交功能
- 分享游戏结果
- 成语排行榜

### 8.3 教育模式
- 成语学习课程
- 每日成语推荐
- 成语测试

## 9. 技术要求

### 9.1 性能指标
- 启动时间 < 3秒
- AI响应时间 < 5秒
- 内存占用 < 500MB
- 支持最低配置：4GB RAM

### 9.2 兼容性
- Windows 10/11
- macOS 10.15+
- Linux (主流发行版)
- 分辨率支持：1280x720 及以上

## 10. 开发里程碑

### Phase 1: 核心功能
- 基本游戏逻辑
- LM Studio API集成
- 简单UI

### Phase 2: 完善体验
- 完整UI设计
- 设置系统
- 成语数据库

### Phase 3: 增强功能
- 成就系统
- 统计功能
- 动画效果

### Phase 4: 打磨优化
- 性能优化
- bug修复
- 用户体验优化
